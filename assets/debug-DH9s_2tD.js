import{r,u as g,s as x,j as e,v as f,i as y,d as b,L as h,e as v,f as w,h as M,k as L,l as j,m as T,M as N,a as p,t as D}from"./index-Cdy-53z0.js";const i={page:{padding:"24px",maxWidth:"1200px",margin:"0 auto",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},toolbar:{position:"sticky",top:0,zIndex:100,display:"flex",alignItems:"center",gap:"16px",padding:"12px 16px",marginBottom:"24px",background:"#1976d2",color:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},toolbarTitle:{fontSize:"20px",fontWeight:700,margin:0,flexGrow:1},toolbarSelect:{padding:"6px 12px",fontSize:"14px",borderRadius:"4px",border:"none",cursor:"pointer"},previewContainer:{marginBottom:"32px",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",background:"#fafafa"},previewTitle:{margin:0,padding:"12px 16px",background:"#f5f5f5",borderBottom:"1px solid #e0e0e0",fontSize:"16px",fontWeight:600},previewBody:{display:"flex",minHeight:"300px"},jsonPane:{width:"340px",minWidth:"340px",padding:"16px",borderRight:"1px solid #e0e0e0",background:"#fff",overflowY:"auto",overflowX:"auto",fontSize:"12px"},graphPane:{flex:1,minHeight:"300px",position:"relative"},jsonPre:{margin:0,fontSize:"12px",fontFamily:"'Menlo', 'Consolas', 'Courier New', monospace",color:"#333",whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:1.5}};let d=null;const S=()=>(d||(d=b({themes:["github-light"],langs:["json"]})),d);function V({data:o}){const a=r.useMemo(()=>JSON.stringify(o,null,2),[o]),[n,l]=r.useState("");return r.useEffect(()=>{S().then(t=>{l(t.codeToHtml(a,{lang:"json",theme:"github-light"}))}).catch(()=>l(""))},[a]),e.jsx("div",{style:i.jsonPane,children:n?e.jsx("div",{dangerouslySetInnerHTML:{__html:n}}):e.jsx("pre",{style:i.jsonPre,children:a})})}function B({nodes:o,edges:a,onNodesChange:n,onEdgesChange:l,nodeTypes:t}){return e.jsx("div",{style:i.graphPane,children:e.jsx(f,{children:e.jsx(y,{nodes:o,edges:a,onNodesChange:n,onEdgesChange:l,nodeTypes:t,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,panOnDrag:!1,panOnScroll:!1,zoomOnScroll:!1,zoomOnPinch:!1,zoomOnDoubleClick:!1,preventScrolling:!1,fitView:!0,fitViewOptions:{padding:.3},proOptions:{hideAttribution:!0}})})})}function k({title:o,nodeType:a,astData:n,nodeTypes:l}){const t=r.useMemo(()=>[{id:"preview-node",type:a,position:{x:0,y:0},data:{astData:n}}],[a,n]),[s,,c]=g(t),[u,,m]=x([]);return e.jsxs("div",{style:i.previewContainer,children:[e.jsx("h3",{style:i.previewTitle,children:o}),e.jsxs("div",{style:i.previewBody,children:[e.jsx(V,{data:n}),e.jsx(B,{nodes:s,edges:u,onNodesChange:c,onEdgesChange:m,nodeTypes:l})]})]})}const G={nodeTypes:{llvmBasicBlock:T,llvmFunctionHeader:j,llvmGlobalVariable:L,llvmAttributeGroup:M,llvmMetadata:w,llvmDeclaration:v,llvmExit:h},defs:[{title:"LLVM BasicBlock",nodeType:"llvmBasicBlock",astData:{type:"BasicBlock",id:"bb0",label:"entry",instructions:[{type:"Instruction",originalText:"%2 = add i32 %0, %1",opcode:"generic",operands:[]},{type:"Instruction",originalText:"%3 = mul i32 %2, 2",opcode:"generic",operands:[]}],terminator:{type:"Instruction",originalText:"ret i32 %3",opcode:"ret"}}},{title:"LLVM FunctionHeader",nodeType:"llvmFunctionHeader",astData:{name:"@main",definition:"define i32 @main(i32 %0, i8** %1)"}},{title:"LLVM GlobalVariable",nodeType:"llvmGlobalVariable",astData:{type:"GlobalVariable",name:"@global_str",value:'@global_str = private constant [14 x i8] c"Hello, World!\\00"',originalText:'@global_str = private constant [14 x i8] c"Hello, World!\\00"'}},{title:"LLVM Declaration",nodeType:"llvmDeclaration",astData:{type:"Declaration",name:"@printf",definition:"declare i32 @printf(i8*, ...)"}},{title:"LLVM Exit",nodeType:"llvmExit",astData:{}},{title:"LLVM AttributeGroup",nodeType:"llvmAttributeGroup",astData:{type:"AttributeGroup",id:"0",value:'attributes #0 = { noinline nounwind optnone uwtable "frame-pointer"="all" }',originalText:'attributes #0 = { noinline nounwind optnone uwtable "frame-pointer"="all" }'}},{title:"LLVM Metadata",nodeType:"llvmMetadata",astData:{type:"Metadata",id:"!0",value:'!0 = !{i32 1, !"wchar_size", i32 4}',originalText:'!0 = !{i32 1, !"wchar_size", i32 4}'}}]},H={nodeTypes:{mermaidNode:N},defs:[{title:"Mermaid Node (square)",nodeType:"mermaidNode",astData:{id:"A",label:"Hello World",shape:"square"}},{title:"Mermaid Node (round)",nodeType:"mermaidNode",astData:{id:"B",label:"Rounded node",shape:"round"}},{title:"Mermaid Node (curly)",nodeType:"mermaidNode",astData:{id:"C",label:"Decision?",shape:"curly"}}]};function E(){const[o,a]=r.useState("llvm");p.useEffect(()=>{const t=document.getElementById("root");return document.documentElement.style.overflow="auto",document.body.style.overflow="auto",t&&(t.style.overflow="auto"),()=>{document.documentElement.style.overflow="",document.body.style.overflow="",t&&(t.style.overflow="")}},[]);const l={llvm:G,mermaid:H}[o];return e.jsxs("div",{style:i.page,children:[e.jsxs("div",{style:i.toolbar,children:[e.jsx("h1",{style:i.toolbarTitle,children:"Node Debug Gallery"}),e.jsxs("select",{value:o,onChange:t=>a(t.target.value),style:i.toolbarSelect,children:[e.jsx("option",{value:"llvm",children:"LLVM"}),e.jsx("option",{value:"mermaid",children:"Mermaid"})]})]}),l.defs.map((t,s)=>e.jsx(k,{title:t.title,nodeType:t.nodeType,astData:t.astData,nodeTypes:l.nodeTypes},`${o}-${t.nodeType}-${s}`))]})}D.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(E,{})}));
